<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>{{title}}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,400i,700,900" rel="stylesheet">
    <link rel='stylesheet' href='/palette-editor/palette-editor.css' />
    <meta name="ROBOTS" content="NOINDEX, NOFOLLOW">
    {{{google-analytics}}}
    {{{favicons}}}
</head>

<body oncontextmenu="return false;">

    <div id="compatibility-warning">
      <div><div>
        <p><strong>Warning: a modern, desktop, web browser is required to use this tool.</strong></p>
        <p>We detected that you may have an out of date or unsupported web browser. This tool, like many others on this site and across the web uses features only available in new web browsers. We reccommend updating your current browser or downloading <a href="https://www.mozilla.org/en-US/firefox/new/" target="_blank">Firefox</a> or <a href="https://www.google.com/chrome/browser/desktop/index.html" target="_blank">Chrome</a>. </p>
        <button onclick="closeCompatibilityWarning()">Continue</button>
      </div></div>
    </div>
  <script src="/javascripts/checkCompatibilityPixelEditor.js"></script>

    <div class="preload">
        <img src="/palette-editor/dropdown-arrow.png" />
        <img src="/palette-editor/dropdown-arrow-hover.png" />
        <img src="/palette-editor/pan.png" />
        <img src="/palette-editor/pan-held.png" />
        <img src="/palette-editor/pencil.png" />
        <img src="/palette-editor/zoom-in.png" />
    </div>

    <ul id="main-menu">
        <li class="logo">Lospec Palette Editor</li>
        <li>
            <button>File</button>
            <ul>
                <li><button>New</button></li>
                <li><button>Save project</button></li>
                <li><button>Open</button></li>
                <li><button id="export-button" class="disabled">Export</button></li>
                <li><a href="/pixel-editor">Exit</a></li>
            </ul>
        </li>
        <li>
            <button>Editor</button>
            <ul>
                <li><button id="switch-mode-button">Switch to basic mode</button></li>
                <li><button>Settings</button></li>
            </ul>
        </li>
        <li>
            <button>Help</button>
            <ul>
                <li><button>Help</button></li>
                <li><button>About</button></li>
                <li><button>Changelog</button></li>
            </ul>
        </li>
    </ul>

    <div id = "picker-input">
        <input type = "color" id = "color1"/>
        <input type = "color" id = "color2"/>
    </div>

    <div id = "colour-picker">
        <div id = "cp-modes">
            <button id="cp-rgb" class="cp-selected-mode" onclick="changePickerMode(this, 'rgb')">RGB</button>
            <button id="cp-hsv" onclick="changePickerMode(this, 'hsv')">HSV</button>
            <button id="cp-hsl" onclick="changePickerMode(this, 'hsl')">HSL</button>
            
            <div id="cp-colour-preview"></div>
            <input id="cp-hex" type="text" value="#123456"/>
        </div>

        <div id = "sliders-container">
            <div class = "cp-slider-entry">
                <label for = "first-slider">R</label>
                <input type="range" min="0" max="255" class="colour-picker-slider" id="first-slider" onmousemove="updateSliderValue(1)" onclick="updateSliderValue(1)"/>
                <input type = "text" value = "128" onchange="inputChanged(this,1)"/>
            </div>

            <div class = "cp-slider-entry">
                <label for = "second-slider">G</label>
                <input type="range" min="0" max ="255" class="colour-picker-slider" id="second-slider" onmousemove="updateSliderValue(2)" onclick="updateSliderValue(2)"/>
                <input type = "text" value = "128" onchange="inputChanged(this,2)"/>
            </div>

            <div class = "cp-slider-entry">
                <label for = "third-slider">B</label>
                <input type="range" min = "0" max = "255" class = "colour-picker-slider" id = "third-slider" onmousemove="updateSliderValue(3)" onclick="updateSliderValue(3)"/>
                <input type = "text" value = "128" onchange="inputChanged(this,3)"/>
            </div>
        </div>

        <div id = "cp-minipicker">
            <input type = "range" min = "0" max = "100" id = "cp-minipicker-slider" onmousemove="miniSliderInput(event)" onclick="miniSliderInput(event)"/>
            <div id="cp-canvas-container" onmousemove="movePickerIcon(event)">
                <canvas id = "cp-spectrum"></canvas>
                <div id="cp-active-icon" class="cp-picker-icon"></div>
            </div>
            

            <div id = "cp-colours-previews">
                <div class = "cp-colour-preview">
                    #123456
                </div>
                <div class = "cp-colour-preview">
                    #123456
                </div>
                <div class = "cp-colour-preview">
                    #123456
                </div>
                <div class = "cp-colour-preview">
                    #123456
                </div>
            </div>

            <div id = "cp-colour-picking-modes">
                <button>Mono</button>
                <button>Anlgs</button>
                <button>Cmpt</button>
                <button>Tri</button>
                <button>Scmpt</button>
                <button>Tetra</button>
            </div>
        </div>

    </div>

    <div id = "log">
        Colour infos
    </div>


    <!-- TOOL PREVIEWS -->
    <div id="eyedropper-preview"></div>
    <div id="brush-preview"></div>

    <!-- DATA HOLDERS -->
    <div id="data-holders">
      <a id="save-image-link-holder" href="#">dl</a>
      <a id="save-project-link-holder" href="#">dl</a>
      <input id="open-image-browse-holder" type="file" accept="image/png, image/gif, .lpe"/>
      <input id="load-palette-browse-holder" type="file" accept="image/png, image/gif"/>
      <canvas id="load-palette-canvas-holder"></canvas>
    </div>

    <div id="pop-up-container" id = "new-pixel-container">
        <!-- NEW PIXEL -->
		<!-- TODO: Is this necessary? -->
        <div id="new-palette">
            <button class="close-button">{{svg "x.svg" width="20" height="20"}}</button>
            <h1>New Palette</h1>

            <div id="new-pixel-warning">Creating a new palette will discard your current one.</div>
            <div>
                <button id="create-button" class="default">Create</button>
            </div>
        </div>

        <div id="help">
            <button class="close-button">{{svg "x.svg" width="20" height="20"}}</button>
            <h1>Help</h1>
            <h2>Hotkeys</h2>
            <ul>
                <li>Pencil: <span class="keyboard-key">B</span> or <span class="keyboard-key">1</span></li>
                <li>Fill: <span class="keyboard-key">F</span> or <span class="keyboard-key">2</span></li>
                <li>Eyedropper: <span class="keyboard-key">E</span> or <span class="keyboard-key">3</span></li>
                <li>Pan: <span class="keyboard-key">P</span> or <span class="keyboard-key">M</span> or <span class="keyboard-key">4</span></li>
                <li>Zoom: <span class="keyboard-key">Z</span> or <span class="keyboard-key">5</span></li>
                <li>Undo: Ctrl + <span class="keyboard-key">Z</span></li>
                <li>Redo: Ctrl + <span class="keyboard-key">Y</span> or Ctrl + Alt + <span class="keyboard-key">Z</span></li>
            </ul>
            <h2>Mouse Shortcuts</h2>
            <ul>
                <li>Space + Click - Pan</li>
                <li>Scroll Wheel - Zoom</li>
            </ul>
        </div>
        <div id="about">
            <button class="close-button">{{svg "x.svg" width="20" height="20"}}</button>
            <h1>About Lospec Palette Editor</h1>
            <div>version 1.1.0</div>
			<!-- TODO: add description of the tool-->
			<!--
            <p>This is a web-based tool for creating and editing pixel art.</p>
            <p>The goal of this tool is to be an accessible and intuitive tool that's simple enough for a first time pixel artist while still being usable enough for a veteran. </p>
            <p>In the future I hope to add enough features to become a full fledged pixel art editor, with everything an artist could need.</p>
            <h1>About Lospec</h1>
            <p>Lospec is a website created to host tools for pixel artists. To see more of our tools, visit our <a href="/">homepage</a>. To hear about any 
            es or new tools, follow us on <a href="http://twitter.com/lospecofficial">Twitter</a>.</p>
			-->
        </div>
        <div id="changelog">
            <button class="close-button">{{svg "x.svg" width="20" height="20"}}</button>

			<h1>Changelog</h1>
            {{#each changelog}}
            	<h2>Version {{@key}}</h2>
            	<ul>{{#each this}}
                	<li>{{change}} <span class="weak">- {{author}}</span></li>
            	{{/each}}</ul>
            {{/each}}
        </div>
        <div id="credits">
            <button class="close-button">{{svg "x.svg" width="20" height="20"}}</button>
            <h1>Credits</h1>
            <h2>Icons</h2>
			<!-- TODO: credit icon artists
            <ul>
                <li><div>Icons made by <a href="http://www.freepik.com" title="Freepik">Freepik</a> from <a href="http://www.flaticon.com" title="Flaticon">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a></div></li>
                <li><div>Font Awesome by Dave Gandy - <a href="http://fontawesome.io">http://fontawesome.io</a></div></li>
                <li><div>Icons made by <a href="http://www.flaticon.com/authors/those-icons" title="Those Icons">Those Icons</a> from <a href="http://www.flaticon.com" title="Flaticon">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a></div></li>
            </ul>-->
        </div>
        <div id="settings">
            <button class="close-button">{{svg "x.svg" width="20" height="20"}}</button>
            <h1>Settings</h1>

            <div id="settings-container">
                <h2>History</h2>
                <div class = "settings-entry">
                    <label for="setting-numberOfHistoryStates">Number of History States</label> <input id="setting-numberOfHistoryStates" value="20" autocomplete="off" />
                </div>
            </div>

            <p id="cookies-disabled-warning">Your browsers cookies are disabled, settings will be lost upon closing this page.</p>

            <div>
                <button id="save-settings" class="default">Save</button>
            </div>
        </div>
    </div>

    <script>
      palettes = { {{#palettes}}
          '{{title}}': {
            colors: '{{colors}}'.split(',')
          },
        {{/palettes}}
        {{#specifiedPalette}}
        '{{title}}': {
          colors: '{{colors}}'.split(','),
          specified: true
        }
        {{/specifiedPalette}}
      }
      {{#if width}}
      var specifiedDimentions = true;
      {{else}}
      var specifiedDimentions = false;
      {{/if}}

      {{#specifiedPalette}}
      var keepUrl = true;
      {{/specifiedPalette}}

    // Set the default palettes
    palettes["Commodore 64"] = {"name":"Commodore 64","author":"","colors":["000000","626262","898989","adadad","ffffff","9f4e44","cb7e75","6d5412","a1683c","c9d487","9ae29b","5cab5e","6abfc6","887ecb","50459b","a057a3"]}
    palettes["PICO-8"] = {"name":"PICO-8","author":"","colors":["000000","1D2B53","7E2553","008751","AB5236","5F574F","C2C3C7","FFF1E8","FF004D","FFA300","FFEC27","00E436","29ADFF","83769C","FF77A8","FFCCAA"]}
    palettes["Gameboy Color"] = {"name":"Nintendo Gameboy (Black Zero)","author":"","colors":["2e463d","385d49","577b46","7e8416"]}

    </script>
    <script src="/palette-editor/palette-editor.js"></script>
</body>
</html>